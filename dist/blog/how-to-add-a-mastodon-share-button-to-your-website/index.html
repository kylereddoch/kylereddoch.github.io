<!doctype html>
<html lang="en"><!-- The order of elements in the head follows recommendations by Harry Roberts. learn more here: https://www.youtube.com/watch?v=MHyAOZ45vnU -->
<head>
    <!-- 1 charset/viewport -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- 2 title -->
    <title>How to Add a Mastodon Share Button to Your Website</title>

    <base href="/blog/how-to-add-a-mastodon-share-button-to-your-website/">

    <!-- 3 synchronous js  -->
    
<script><!-- inlined for all pages -->
(()=>{var p=Object.defineProperty;var u=(c,t,e)=>t in c?p(c,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):c[t]=e;var s=(c,t,e)=>u(c,typeof t!="symbol"?t+"":t,e);var r=class r extends HTMLElement{constructor(){super(),this.ready=new Promise(t=>{this.readyResolve=t})}static getParents(t,e=!1){let a=[];for(;t;){if(t.matches&&t.matches(r.tagName)){if(e&&t===e)break;d.hasConditions(t)&&a.push(t)}t=t.parentNode}return a}static async ready(t,e){if(e||(e=r.getParents(t)),e.length===0)return;let a=await Promise.all(e.map(i=>i.wait()));if(a.length)return a[0]}forceFallback(){window.Island&&Object.assign(r.fallback,window.Island.fallback);for(let t in r.fallback){let e=Array.from(this.querySelectorAll(t)).reverse();for(let a of e){if(!a.isConnected)continue;let i=r.getParents(a);if(i.length===1){let o=r.ready(a,i);r.fallback[t](o,a,r.prefix)}}}}wait(){return this.ready}async connectedCallback(){d.hasConditions(this)&&this.forceFallback(),await this.hydrate()}getTemplates(){return this.querySelectorAll(`template[${r.attr.template}]`)}replaceTemplates(t){for(let e of t){if(r.getParents(e,this).length>0)continue;let a=e.getAttribute(r.attr.template);if(a==="replace"){let i=Array.from(this.childNodes);for(let o of i)this.removeChild(o);this.appendChild(e.content);break}else{let i=e.innerHTML;if(a==="once"&&i){if(r.onceCache.has(i)){e.remove();return}r.onceCache.set(i,!0)}e.replaceWith(e.content)}}}async hydrate(){let t=[];this.parentNode&&t.push(r.ready(this.parentNode));let e=d.getConditions(this);for(let a in e)d.map[a]&&t.push(d.map[a](e[a],this));await Promise.all(t),this.replaceTemplates(this.getTemplates());for(let a of r.onReady.values())await a.call(this,r);this.readyResolve(),this.setAttribute(r.attr.ready,""),this.querySelectorAll(`[${r.attr.defer}]`).forEach(a=>a.removeAttribute(r.attr.defer))}};s(r,"tagName","is-land"),s(r,"prefix","is-land--"),s(r,"attr",{template:"data-island",ready:"ready",defer:"defer-hydration"}),s(r,"onceCache",new Map),s(r,"onReady",new Map),s(r,"fallback",{":not(is-land,:defined,[defer-hydration])":(t,e,a)=>{let i=document.createElement(a+e.localName);for(let n of e.getAttributeNames())i.setAttribute(n,e.getAttribute(n));let o=e.shadowRoot;if(!o){let n=e.querySelector(":scope > template:is([shadowrootmode], [shadowroot])");if(n){let m=n.getAttribute("shadowrootmode")||n.getAttribute("shadowroot")||"closed";o=e.attachShadow({mode:m}),o.appendChild(n.content.cloneNode(!0))}}return o&&i.attachShadow({mode:o.mode}).append(...o.childNodes),i.append(...e.childNodes),e.replaceWith(i),t.then(()=>{i.shadowRoot&&e.shadowRoot.append(...i.shadowRoot.childNodes),e.append(...i.childNodes),i.replaceWith(e)})}});var f=r,l=class l{static hasConditions(t){return Object.keys(l.getConditions(t)).length>0}static getConditions(t){let e={};for(let a of Object.keys(l.map))t.hasAttribute(`on:${a}`)&&(e[a]=t.getAttribute(`on:${a}`));return e}static visible(t,e){if("IntersectionObserver"in window)return new Promise(a=>{let i=new IntersectionObserver(o=>{let[n]=o;n.isIntersecting&&(i.unobserve(n.target),a())});i.observe(e)})}static idle(){let t=new Promise(e=>{document.readyState!=="complete"?window.addEventListener("load",()=>e(),{once:!0}):e()});return"requestIdleCallback"in window?Promise.all([new Promise(e=>{requestIdleCallback(()=>{e()})}),t]):t}static interaction(t,e){let a=["click","touchstart"];return t&&(a=(t||"").split(",").map(i=>i.trim())),new Promise(i=>{function o(n){i();for(let m of a)e.removeEventListener(m,o)}for(let n of a)e.addEventListener(n,o,{once:!0})})}static media(t){let e={matches:!0};if(t&&"matchMedia"in window&&(e=window.matchMedia(t)),!e.matches)return new Promise(a=>{e.addListener(i=>{i.matches&&a()})})}static saveData(t){if(!(!("connection"in navigator)||navigator.connection.saveData===(t!=="false")))return new Promise(()=>{})}};s(l,"map",{visible:l.visible,idle:l.idle,interaction:l.interaction,media:l.media,"save-data":l.saveData});var d=l;"customElements"in window&&(window.customElements.define(f.tagName,f),window.Island=f);var y=f.ready;var h=class{};s(h,"attr",{autoInitType:"autoinit",import:"import"}),s(h,"types",{"petite-vue":function(t){t.createApp().mount(this)},vue:function(t){t.createApp().mount(this)},svelte:function(t){new t.default({target:this})},"svelte-ssr":function(t){new t.default({target:this,hydrate:!0})},preact:function(t){t.default(this)}});Island.onReady.set("import-autoinit",async function(c){let t,e=this.getAttribute(h.attr.import);if(e&&(t=await import(e)),t){let a=h.types[this.getAttribute(h.attr.autoInitType)||e];a&&await a.call(this,t)}});})();

(()=>{var a="theme-preference",l={dark:"#f8f8f8",light:"#2e2e2e"},t={value:d()};window.onload=()=>{let e=document.querySelector("#light-theme-toggle"),r=document.querySelector("#dark-theme-toggle");document.querySelector("[data-theme-switcher]")&&(c(),o(),e.addEventListener("click",()=>n("light")),r.addEventListener("click",()=>n("dark")),e.setAttribute("aria-pressed",t.value==="light"),r.setAttribute("aria-pressed",t.value==="dark"))};window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:e})=>{t.value=e?"dark":"light",i(),o()});function n(e){t.value=e,document.querySelector("#light-theme-toggle").setAttribute("aria-pressed",e==="light"),document.querySelector("#dark-theme-toggle").setAttribute("aria-pressed",e==="dark"),i(),o()}function d(){return localStorage.getItem(a)?localStorage.getItem(a):window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function i(){localStorage.setItem(a,t.value),c(),o()}function c(){document.firstElementChild.setAttribute("data-theme",t.value)}function o(){let e=document.querySelector('meta[name="theme-color"]'),r=t.value==="dark"?l.dark:l.light;e.setAttribute("content",r)}c();})();</script>


    <!-- 4 schema settings -->
    <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@graph": [
      {
        "@type": "WebSite",
        "@id": "http://localhost:8080#website",
        "url": "http://localhost:8080",
        "name": "Kyles Tech Korner",
        "description": "My life and journey through this world of technology. A blog about tech, cybersecurity, and everything in between.",
        "inLanguage": "en_EN"
      }
    ]
  }
</script>


<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": {
      "@type": "WebPage"
    },
    "isPartOf": {
      "@id": "http://localhost:8080#website"
    },
    "@id": "",
    "headline": "How to Add a Mastodon Share Button to Your Website",
    "description": "Learn how to add a Mastodon share button to your website using a little bit of HTML and JavaScript.",
    "image": "http://localhost:8080/assets/images/template/opengraph-default.jpg",
    "inLanguage": "en_EN",
    "publisher": {
      "@type": "Person",
      "name": "Kyle Reddoch",
      "url": "http://localhost:8080"
    },
    "author": {
      "@type": "Person",
      "name": "Kyle Reddoch"
    },
    "datePublished": "2023-02-20T00:00:00.000Z"
  }
</script>



    <!-- 5 CSS  -->
    <!-- <link rel="stylesheet" href="/assets/css/global.css?dc6e-4d86-2628" /> -->
    
		<!-- External CSS for local dev (refresh without page reload) -->
		<link rel="stylesheet" href="/bundle/Ttl_kCWg-F.css">
		<link rel="stylesheet" href="/bundle/vw7ltkSln-.css">

	


    <!-- 6 preloads  -->
    <link rel="preload" href="/assets/fonts/redhat/red-hat-display-v7-latin-900.woff2" as="font" type="font/woff2" crossorigin>

<link rel="preload" href="/assets/fonts/atkinson/atkinson-hyperlegible-regular.woff2" as="font" type="font/woff2" crossorigin>

<!-- preloads in page data -->


    <!-- 7 defer  -->
    


    <!-- 8 meta tags, icons, open graph etc.  -->
    

<meta name="description" content="Learn how to add a Mastodon share button to your website using a little bit of HTML and JavaScript.">
<meta name="theme-color" content="#2e2e2e" media="(prefers-color-scheme: dark)">
<meta name="theme-color" content="#f8f8f8" media="(prefers-color-scheme: light)">
<!-- Search Engines -->
<meta name="robots" content="index,follow">
<meta name="googlebot" content="index,follow">
<!-- Made with Eleventy! -->
<meta name="generator" content="Eleventy v3.1.2">
<!-- Disable automatic detection and formatting of possible phone numbers -->
<meta name="format-detection" content="telephone=no">
<!-- supports both dark and light color schemes, page author prefers light as default. -->
<meta name="color-scheme" content="light dark">
<!-- activates page transitions -->
<meta name="view-transition" content="same-origin">
<!-- Helps prevent duplicate content issues -->
<link rel="canonical" href="http://localhost:8080/blog/how-to-add-a-mastodon-share-button-to-your-website/">
<!-- Links to information about the author(s) of the document -->
<link rel="author" href="humans.txt">


  <!-- Mastodon verified site -->
  <link rel="me" href="https://infosec.exchange/@beardedtechguy">



  <!-- fediverse creator tag -->
  <meta name="fediverse:creator" content="@beardedtechguy@infosec.exchange">


<!-- Open Graph meta  -->
<meta property="og:url" content="http://localhost:8080/blog/how-to-add-a-mastodon-share-button-to-your-website/">
<meta property="og:type" content="website">
<meta property="og:title" content="How to Add a Mastodon Share Button to Your Website">
<meta property="og:image" content="http://localhost:8080/assets/og-images/how-to-add-a-mastodon-share-button-to-your-website-preview.jpeg">
<meta property="og:image:alt" content="How to Add a Mastodon Share Button to Your Website">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta property="og:description" content="Learn how to add a Mastodon share button to your website using a little bit of HTML and JavaScript.">
<meta property="og:site_name" content="Kyles Tech Korner">
<meta property="og:locale" content="en_EN">
<meta property="article:author" content="Kyle Reddoch">

<!-- Twitter specific head data was removed in v2 -->

<!-- RSS Autodiscovery. Loops over meta.blog.feedLinks -->

  <link rel="alternate" type="application/atom+xml" title="Atom Feed: Kyles Tech Korner" href="/feed.xml">

  <link rel="alternate" type="application/json" title="JSON Feed: Kyles Tech Korner" href="/feed.json">


<!-- Favicon: https://evilmartians.com/chronicles/how-to-favicon-in-2021-six-files-that-fit-most-needs -->
<link rel="icon" href="/favicon.ico" sizes="any">
<link rel="icon" href="/favicon.svg" type="image/svg+xml">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="manifest" href="/site.webmanifest">

  </head>

  <body class="post">
    
    <header class="wrapper">
  <a href="#main" class="skip-link">Skip to content</a>

  <div class="repel ontop gutter-s">
    <a href="/" class="logo | cluster">
      <picture slot="image">  <source type="image/avif" srcset="/assets/images/logo-32w.avif 32w" sizes="auto">
  <source type="image/webp" srcset="/assets/images/logo-32w.webp 32w" sizes="auto">
  <source type="image/jpeg" srcset="/assets/images/logo-32w.jpeg 32w" sizes="auto"><img src="/assets/images/logo-32w.jpeg" width="32" height="32" alt loading="lazy" decoding="async" eleventy:ignore></picture>

      <span class="font-display">Kyles Tech Korner</span>
    </a>
    <!-- toggle drawer and sub menu in _data/meta.js -->



<nav id="mainnav" aria-label="Main" class="mainnav">
  <ul role="list" no-flash class="cluster">
    
      
        <li>
          <a href="/about/">About</a>
        </li>
      
    
      
        <li>
          <a href="/blog/" aria-current="page" data-state="active">Blog</a>
        </li>
      
    
      
        <li>
          <a href="/slashes/">Slashes</a>
        </li>
      
    
  </ul>
</nav>





  </div>
</header>


    <main id="main" class="flow">
<div style="--region-space-top: var(--space-xl)" class="region">
  <div class="wrapper flow prose">
    <h1 class="gradient-text">How to Add a Mastodon Share Button to Your Website</h1>
    

    <p class="meta">
      <!-- draft status -->
      <!-- date -->
       <time datetime="2023-02-20T00:00:00.000Z"> February 19, 2023</time> Â· About a 3 min read time
    </p>

    <p class="meta | cluster gutter-xs-s">
    
        <!-- tags -->
        
          <a href="/tags/mastodon/" data-small-button class="button"> mastodon </a>
        
          <a href="/tags/javascript/" data-small-button class="button"> javascript </a>
        
          <a href="/tags/html/" data-small-button class="button"> html </a>
        
          <a href="/tags/tutorial/" data-small-button class="button"> tutorial </a>
        
      
      </p>
        <aside class="alert">
            <!-- <div class="alert-icon">
                <svg class="icon alert-calendar">
                    <use xlink:href="#calendar"></use>
                </svg>
            </div> -->
            <p>[!] Signal recovered from a long-dead node ~ 2 years old. Data integrity compromised... Some info may be obsolete or fragmented. The opinions still burn like zero-day exploits ðŸ”¥ðŸ’¾.</p>
        </aside>
    

    <p>Ever since Elon took over the helm of Twitter and causing quite an uproar, people have been flocking to Mastodon as their new social media platform. Mastdodon isnâ€™t showing any signs of going anywhere anytime soon, so it will be here for a long time. With this change, people have been looking for a way that would allow their readers to share their content to Mastodon, myself included.</p>
<p>Mastodon, though, is different than Twitter in that it is a decentralized network. This means that the mechanics of creating a share button is a <em>little</em> bit more complicated than just using a URL (you need to know <em>where</em> to send the user).</p>
<p>In this post, I will show you how I created a Mastodon share button for this website using a little bit of HTML and Javascript.</p>
<h2 id="the-challenge"><a href="#the-challenge" class="heading-anchor">The Challenge</a></h2>
<p>Per the <a href="https://docs.joinmastodon.org/methods/statuses/" rel="noopener">Mastodon documentation</a>, we need to send the button to the following URL <code>/share</code> url on the users Mastodon instance, but we donâ€™t know what instance the user is on; this could be anything from <code>iosdev.space</code> to <code>mastodon.social</code>. At this time, there is no way to automatically determine the users instance, at least not that I know of.</p>
<p>We can accomplish this by using a little bit of Javascript (with a <code>click</code> event) to prompt the user for their instance (via Javascriptâ€™s <code>prompt()</code>) and then open a window onto the share page that prepopulates both the post title and URL of your article (these are editable by the user to whatever they what to post).</p>
<h3 id="the-javascript"><a href="#the-javascript" class="heading-anchor">The Javascript</a></h3>
<p>For the Javascript, we will need to create a function that will prompt the user for their instance and then open a new window with the share URL. We will also need to add a <code>click</code> event to the button that will call this function.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token comment">/* Generate a share link for the user's Mastodon domain */</span>
<span class="token keyword">function</span> <span class="token function">MastodonShare</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

    <span class="token comment">// Gather the source text and URL</span>
    src <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"data-src"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Gather the Mastodon domain</span>
    domain <span class="token operator">=</span> <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">"Enter your Mastodon domain"</span><span class="token punctuation">,</span> <span class="token string">"mastodon.social"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>domain <span class="token operator">==</span> <span class="token string">""</span> <span class="token operator">||</span> domain <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Build the URL</span>
    url <span class="token operator">=</span> <span class="token string">"https://"</span> <span class="token operator">+</span> domain <span class="token operator">+</span> <span class="token string">"/share?text="</span> <span class="token operator">+</span> src<span class="token punctuation">;</span>

    <span class="token comment">// Open a window on the share page</span>
    window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token string">'_blank'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<div align="center"><a href="https://donate.stripe.com/3cs7voeE46LX07e7ss" target="_blank" class="button">Support this site with a cup of coffee</a></div>
<h3 id="the-html"><a href="#the-html" class="heading-anchor">The HTML</a></h3>
<p>For the HTML, we will need to create a button that will call the function when clicked (the <code>onclick</code> attribute). We will also need to add a <code>data-src</code> attribute that will contain the text that we want to share. Here is what mine looks like, yours might look a little different.</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript"><span class="token function">MastodonShare</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span>
            <span class="token attr-name">data-src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{ page.title }}<span title="&amp;" class="token entity named-entity">&amp;amp;</span>url={{ page.url | absolute_url }}<span class="token punctuation">"</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{ site.data.social.language.str_share_on }} Mastodon<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fab fa-mastodon fa-2x<span class="token punctuation">"</span></span> <span class="token attr-name">aria-hidden</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sr-only<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{{ site.data.social.language.str_share_on | default: "Share on" }} Mastodon<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span></code></pre>
<p>Okay, this is if you your share button is an icon or link, but what if you have them as an image? Well, you can do that too. It is a <em>little</em> different, but I will show you how to do that as well.</p>
<h3 id="the-image-button"><a href="#the-image-button" class="heading-anchor">The Image Button</a></h3>
<p>As with the icon button, we will use the <code>data-src</code> attribute to store the text that we want to share. Your image button can look something like this, but just came sure that is has the <code>data-src</code> attribute and whatever <code>class</code> you use in the same you use in the <code>javascript</code> below.</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mastodon-share<span class="token punctuation">"</span></span> 
      <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span> none</span><span class="token punctuation">"</span></span></span> 
      <span class="token attr-name">loading</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lazy<span class="token punctuation">"</span></span> 
      <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/images/social-icons/mastodon_share.jpg<span class="token punctuation">"</span></span> 
      <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Share this post on Mastodon<span class="token punctuation">"</span></span> 
      <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Share this post on Mastodon<span class="token punctuation">"</span></span> 
      <span class="token attr-name">data-src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{ page.title }}<span title="&amp;" class="token entity named-entity">&amp;amp;</span>url={{ page.url | absolute_url }}<span class="token punctuation">"</span></span>
      <span class="token punctuation">&gt;</span></span></code></pre>
<p>Because the image share functionality is reliant on Javascript, it would be best to hide the image by defaulut that way if users do not have Javascript enabled, they will not see the image. To do this, we will add a <code>style</code> attribute to the image and set it to <code>display: none;</code>.</p>
<p>This way the image is revealed with Javescript using the following code (which also includes the <code>click</code> event listener):</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token comment">/* Call this on document.ready() */</span>
<span class="token keyword">function</span> <span class="token function">enableMastodonShare</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> eles <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">'mastodon-share'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>eles<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        eles<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> MastodonShare<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">/* Make visible by removing the original display: none */</span>
        eles<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>style <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<div align="center"><a href="https://donate.stripe.com/3cs7voeE46LX07e7ss" target="_blank" class="button">Support this site with a cup of coffee</a></div>
<h2 id="the-result"><a href="#the-result" class="heading-anchor">The Result</a></h2>
<p>After clicking your share button, the user will be prompted with a prompt to enter with Mastodon instance.</p>
<p><picture><source type="image/webp" srcset="/.11ty/image/?src=src%2Fassets%2Fimages%2Finstance-popup.png&amp;width=650&amp;format=webp&amp;via=transform 650w, /.11ty/image/?src=src%2Fassets%2Fimages%2Finstance-popup.png&amp;width=902&amp;format=webp&amp;via=transform 902w" sizes="auto"><img loading="lazy" decoding="async" src="/.11ty/image/?src=src%2Fassets%2Fimages%2Finstance-popup.png&amp;width=650&amp;format=jpeg&amp;via=transform" alt="Mastodon instance prompt" width="902" height="334" srcset="/.11ty/image/?src=src%2Fassets%2Fimages%2Finstance-popup.png&amp;width=650&amp;format=jpeg&amp;via=transform 650w, /.11ty/image/?src=src%2Fassets%2Fimages%2Finstance-popup.png&amp;width=902&amp;format=jpeg&amp;via=transform 902w" sizes="auto"></picture></p>
<p>Once they have entered thier instance and hit okay, a new window will open with the share page prepopulated with the title and URL of the post on their instance.</p>
<p><picture><source type="image/webp" srcset="/.11ty/image/?src=src%2Fassets%2Fimages%2Fmastodon-share-box.png&amp;width=650&amp;format=webp&amp;via=transform 650w, /.11ty/image/?src=src%2Fassets%2Fimages%2Fmastodon-share-box.png&amp;width=890&amp;format=webp&amp;via=transform 890w" sizes="auto"><img loading="lazy" decoding="async" src="/.11ty/image/?src=src%2Fassets%2Fimages%2Fmastodon-share-box.png&amp;width=650&amp;format=jpeg&amp;via=transform" alt="Mastodon share box" width="890" height="804" srcset="/.11ty/image/?src=src%2Fassets%2Fimages%2Fmastodon-share-box.png&amp;width=650&amp;format=jpeg&amp;via=transform 650w, /.11ty/image/?src=src%2Fassets%2Fimages%2Fmastodon-share-box.png&amp;width=890&amp;format=jpeg&amp;via=transform 890w" sizes="auto"></picture></p>
<h2 id="conclusion"><a href="#conclusion" class="heading-anchor">Conclusion</a></h2>
<p>I hope this post has helped you create your own Mastodon share button. If you have any questions, feel free to reach out to me on Mastodon at <a href="https://iosdev.space/@kylewritescode" rel="noopener">@kylewritescode</a>.</p>
<p>If you have enjoyed this post, please consider supporting the site.</p>

    <!-- 
 -->
  </div>

  <!--  h-card infos: https://indieweb.org/authorship -->
  <div hidden class="h-entry">
    <a href="http://localhost:8080/blog/how-to-add-a-mastodon-share-button-to-your-website/" class="u-url">How to Add a Mastodon Share Button to Your Website</a>
    <a rel="author" href="http://localhost:8080" class="p-name u-url">Kyle Reddoch</a>
    <img src="http://localhost:8080/assets/images/logo/logo.png" alt="Kyle Reddoch" class="u-author h-card">
  </div>


</div></main>

    <footer class="site-footer mt-l-xl p-s-m">
  <div class="wrapper">
    <div class="cluster gutter-xs">
      <nav aria-label="Complementary" class="cluster text-step-0">
        Â© 2025
        <a href="/"><span class="font-display">Kyles Tech Korner</span>
        </a>

        
          <a href="/media-kit/">Media Kit</a>
        
      </nav>

      <nav aria-label="Platforms" class="cluster">
        <!-- gets the first item from the feed loop set in meta -->
        <a href="/feed.xml" rel="alternate" type="application/atom+xml">
          <span class="visually-hidden">Atom Feed</span>
          <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true"><title>RSS</title><path d="M4 11a9 9 0 0 1 9 9M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg>
        </a>

        
          
            <!-- regular platforms -->
            <a href="https://github.com/kylereddoch/" rel="me" class="no-indicator">
              <span class="visually-hidden">Github</span>
              <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.4 5.4 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65S8.93 17.38 9 18v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg>
            </a>
          
        
          
            <!-- regular platforms -->
            <a href="https://infosec.exchange/@beardedtechguy" rel="me" class="no-indicator">
              <span class="visually-hidden">Mastodon</span>
              <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true"><path d="M21.887 5.996c-.308-2.314-2.298-4.14-4.655-4.492-.399-.059-1.906-.278-5.398-.278h-.026c-3.495 0-4.243.219-4.642.278-2.295.345-4.387 1.982-4.897 4.326-.242 1.153-.268 2.433-.222 3.606.065 1.684.078 3.361.228 5.039a24 24 0 0 0 .543 3.304c.484 2.009 2.439 3.68 4.355 4.359 2.049.71 4.256.829 6.368.342q.347-.085.69-.193c.513-.165 1.114-.351 1.559-.676q.009-.006.013-.016.006-.01.007-.024v-1.624s0-.013-.007-.02q-.002-.01-.013-.016l-.02-.01h-.019a17.4 17.4 0 0 1-4.132.49c-2.397 0-3.041-1.153-3.224-1.63a5.3 5.3 0 0 1-.281-1.287q0-.01.003-.019.002-.012.013-.017l.02-.01h.023c1.33.325 2.697.491 4.067.491.33 0 .657 0 .987-.01 1.376-.04 2.828-.11 4.184-.378.033-.007.069-.013.098-.02 2.138-.418 4.172-1.724 4.378-5.032.006-.129.026-1.365.026-1.498 0-.461.147-3.258-.023-4.979z"></path><path fill="currentColor" stroke-width="1" d="M6.061 7.288c0-.676.533-1.219 1.193-1.219.661 0 1.193.547 1.193 1.219 0 .673-.532 1.22-1.193 1.22-.66 0-1.193-.547-1.193-1.22Z"></path></svg>
            </a>
          
        
          
            <!-- regular platforms -->
            <a href="https://www.instagram.com/just_technerd_kyle/" rel="me" class="no-indicator">
              <span class="visually-hidden">Instagram</span>
              <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true"><rect width="20" height="20" x="2" y="2" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37M17.5 6.5h.01"></path></svg>
            </a>
          
        
          
            <!-- regular platforms -->
            <a href="https://www.linkedin.com/in/kylereddoch/" rel="me" class="no-indicator">
              <span class="visually-hidden">Linkedin</span>
              <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6M2 9h4v12H2z"></path><circle cx="4" cy="4" r="2"></circle></svg>
            </a>
          
        
          
            <!-- regular platforms -->
            <a href="https://ko-fi.com/kylereddoch" rel="me" class="no-indicator">
              <span class="visually-hidden">Kofi</span>
              <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M18 3h1c1.06 0 2.078.527 2.828 1.464C22.578 5.402 23 6.674 23 8s-.421 2.598-1.172 3.536C21.078 12.473 20.061 13 19 13h-1M1 3h17v12.461c0 1.47-.512 2.878-1.423 3.917-.91 1.038-2.146 1.622-3.434 1.622H5.857c-1.288 0-2.523-.584-3.434-1.622S1 16.93 1 15.46z"></path><path fill="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M13.288 8.707a2.43 2.43 0 0 0-2.65-.52c-.3.12-.57.3-.8.53l-.34.34-.35-.34a2.43 2.43 0 0 0-3.44 0c-.95.939-1 2.527.2 3.736L9.497 16l3.6-3.547c1.2-1.208 1.14-2.797.19-3.736v-.01Z"></path></svg>
            </a>
          
        
      </nav>
    </div>

    <!-- <is-land on:idle
  ><div
    role="region"
    class="theme-switch | cluster mt-xs"
    style="--cluster-horizontal-alignment: center; --gutter: 0.5rem"
    aria-labelledby="theme-switcher-label"
    data-theme-switcher
  >
    <h2 id="theme-switcher-label"></h2>
    <button class="button" id="light-theme-toggle" data-theme="light" data-ghost-button data-small-button>
      <span></span>
    </button>
    <button class="button" id="dark-theme-toggle" data-theme="dark" data-ghost-button data-small-button>
      <span></span>
    </button>
  </div>
</is-land>
 -->

    <aside class="creator | cluster gutter-2xs text-step-min-1 mt-xl">
      Made with <span class="visually-hidden">love</span> <span><svg width="1em" height="1em" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true"><path d="M7 3C4.239 3 2 5.216 2 7.95c0 2.207.875 7.445 9.488 12.74a.99.99 0 0 0 1.024 0C21.125 15.395 22 10.157 22 7.95 22 5.216 19.761 3 17 3s-5 3-5 3-2.239-3-5-3"></path></svg></span> and
      <a href="https://www.11ty.dev/" class="no-indicator"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 29 29" aria-label="Eleventy"><path fill="currentColor" d="M9.156 22.425q-.324 0-.324-.878V7.08q0-.419-.168-.394l-1.035.263q-.284.026-.284-.576V5.116q0-.523.31-.588l3.415-.89a.5.5 0 0 1 .116-.012q.284 0 .283.615V21.55q0 .878-.336.877zm8.846.027q-.518 0-.899-.073a2.4 2.4 0 0 1-.795-.328 2 2 0 0 1-.68-.7q-.265-.446-.432-1.245t-.168-1.899v-6.714q0-.263-.142-.263h-.802q-.324 0-.324-.627v-.708q0-.64.324-.641h.803q.14 0 .141-.353l.233-5.093q.039-.693.336-.693h1.295q.324 0 .324.693v5.093q-.001.354.156.353h1.65q.324 0 .324.641v.708q0 .627-.324.627h-1.655q-.09 0-.122.046-.032.045-.031.217v6.756q0 .759.096 1.264.097.504.283.739.188.235.375.313.188.08.459.078h.917q.349.001.348.484v.785q0 .537-.374.537zm4.964 1.57q.296 0 .516-.49.22-.493.221-1.396 0-.211-.26-1.454l-2.536-10.67a2 2 0 0 1-.026-.29q0-.47.195-.47h1.566q.18 0 .297.123.12.124.18.503l1.681 9.008q.051.157.065.158.052-.002.053-.144l1.319-8.983q.052-.392.16-.53a.34.34 0 0 1 .28-.138h1.085q.22 0 .22.51 0 .118-.026.302l-2.303 12.138q-.271 1.506-.595 2.305-.324.798-.726 1.086a1.85 1.85 0 0 1-1.061.302h-.13q-1.048 0-1.422-.564-.104-.118-.103-.603 0-.97.31-.97.026 0 .466.131.445.138.574.136M2.648 22.45q-.324.001-.324-.877V7.105q0-.42-.169-.394l-1.035.262Q.836 7 .837 6.397V5.14q0-.521.31-.588l3.417-.892a.5.5 0 0 1 .116-.012q.284 0 .283.615v17.309q0 .878-.336.877z"></path></svg></a> by
      <a href="https://www.kylereddoch.me">Kyle Reddoch</a>
    </aside>
  </div>
</footer>
<script type="module" src="/assets/scripts/components/custom-easteregg.js"></script>
      <custom-easteregg></custom-easteregg><script type="module" src="/assets/scripts/components/mastodon-post.js"></script>
  

</body>
</html>